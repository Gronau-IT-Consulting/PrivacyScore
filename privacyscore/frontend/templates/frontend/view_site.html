{% extends 'frontend/base.html' %}
{% load static %}
{% load i18n %}

{% block title %}PrivacyScore{% endblock title %}

{% block additional_js %}
  <script src="{% static 'frontend/js/buttons.colVis.js' %}"></script>
  <script src="{% static 'frontend/js/buttons.html5.js' %}"></script>
  <script src="{% static 'frontend/js/pdfmake.min.js' %}"></script>
  <script src="{% static 'frontend/js/jszip.min.js' %}"></script>
  <script src="{% static 'frontend/js/vfs_fonts.js' %}"></script>
  <script src="{% static 'frontend/js/d3.v4.min.js' %}" type="text/javascript"></script>
  <script src="{% static 'frontend/js/diagram.js' %}" type="text/javascript"></script>
{% endblock additional_js %}

{% block additional_css %}
  <style>
  table.dataTable thead .sorting,
table.dataTable thead .sorting_asc,
table.dataTable thead .sorting_desc,
table.dataTable thead .sorting_asc_disabled,
table.dataTable thead .sorting_desc_disabled
 {
    //background-position: left center;
    //padding-left: 20px;
}â€‹
    a {
      color: black;
      text-decoration: none;
    }
    a:hover {
      color: black;
    }

    .description-good {
      color: green;
    }

    .description-neutral {
      color: gray;
    }

    .description-bad, .description-critical {
      color: red;
    }
  </style>
{% endblock additional_css %}


{% block content %}
  <h1>
    {{ site.url }}
  </h1>

  <p>
    {% trans 'Last scan:' %}
    {% if site.last_scan_datetime %}
      {{ site.last_scan_datetime }}
    {% else %}
      {% trans 'never' %}
    {% endif %}
      <form method="POST" action="{% url 'frontend:scan_site' site.pk %}">
        {% csrf_token %}
        <button type="submit" class="btn btn-default" role="button" id="scan_again" style="width:100%;">
          {% trans 'Rescan' %}
        </button>
      </form>
  </p>

  {% if site.has_screenshot %}
    <img src="{% url 'frontend:site_screenshot' site.pk %}" class="screenshot" style="width:320px" />
  {% endif %}

  {% for group, descriptions in groups_descriptions %}
    <h2>{{ group }}</h2>

    {% for description, classification in descriptions %}
      <p class="description-{{ classification }}">{{ description }}</p>
    {% endfor %}
  {% endfor %}

{% endblock content %}
